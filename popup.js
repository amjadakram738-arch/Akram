import{j as e,r as g,u as y,L as p,T as x,c as M,R as B}from"./base.js";const k="_container_gkdap_1",T="_modeItem_gkdap_8",A="_active_gkdap_25",L="_icon_gkdap_31",E="_label_gkdap_36",r={container:k,modeItem:T,active:A,icon:L,label:E},$=[{value:"auto",label:"Auto",icon:"ü§ñ"},{value:"manual",label:"Manual",icon:"üïπÔ∏è"},{value:"economy",label:"Economy",icon:"üçÉ"},{value:"high_accuracy",label:"High Accuracy",icon:"üéØ"},{value:"silent",label:"Silent",icon:"üîá"},{value:"interactive",label:"Interactive",icon:"‚úçÔ∏è"},{value:"normal",label:"Normal",icon:"‚öñÔ∏è"},{value:"fast",label:"Fast",icon:"‚ö°"},{value:"beta",label:"Beta",icon:"üß™"},{value:"cloud",label:"Cloud",icon:"‚òÅÔ∏è"},{value:"shared",label:"Shared",icon:"üë•"}],f=({currentMode:a,onChange:l})=>e.jsx("div",{className:r.container,children:$.map(n=>e.jsxs("button",{className:`${r.modeItem} ${a===n.value?r.active:""}`,onClick:()=>l(n.value),title:n.label,children:[e.jsx("span",{className:r.icon,children:n.icon}),e.jsx("span",{className:r.label,children:n.label})]},n.value))}),w="_alert_1r17l_1",R="_error_1r17l_11",I="_success_1r17l_17",G="_warning_1r17l_23",P="_retryBtn_1r17l_29",O="_closeBtn_1r17l_39",o={alert:w,error:R,success:I,warning:G,retryBtn:P,closeBtn:O},q=({type:a,message:l,onClose:n,onRetry:c})=>e.jsxs("div",{className:`${o.alert} ${o[a]}`,children:[e.jsx("span",{className:o.message,children:l}),e.jsxs("div",{className:o.actions,children:[c&&e.jsx("button",{onClick:c,className:o.retryBtn,children:"Retry"}),n&&e.jsx("button",{onClick:n,className:o.closeBtn,children:"√ó"})]})]}),D="_badge_143x8_1",H="_active_143x8_10",U="_inactive_143x8_15",F="_dot_143x8_20",d={badge:D,active:H,inactive:U,dot:F},V=({isActive:a})=>e.jsxs("div",{className:`${d.badge} ${a?d.active:d.inactive}`,children:[e.jsx("span",{className:d.dot}),e.jsx("span",{className:d.text,children:a?"Live":"Idle"})]}),Y=()=>({sendMessage:g.useCallback((l,n)=>{chrome.runtime.sendMessage(l,n)},[])}),z="_popup_15ds3_23",J="_header_15ds3_31",K="_logo_15ds3_37",Q="_title_15ds3_43",W="_section_15ds3_49",X="_label_15ds3_53",Z="_languagePair_15ds3_62",ee="_langCol_15ds3_68",se="_arrow_15ds3_72",te="_statusRow_15ds3_78",ae="_count_15ds3_84",ne="_toggleButton_15ds3_89",le="_active_15ds3_107",ce="_quickSettings_15ds3_112",oe="_footer_15ds3_117",ie="_settingsButton_15ds3_126",re="_shortcut_15ds3_140",de="_loading_15ds3_148",s={popup:z,header:J,logo:K,title:Q,section:W,label:X,languagePair:Z,langCol:ee,arrow:se,statusRow:te,count:ae,toggleButton:ne,active:le,quickSettings:ce,footer:oe,settingsButton:ie,shortcut:re,loading:de},ge=()=>{const{settings:a,updateSetting:l,loading:n}=y(),{sendMessage:c}=Y(),[i,u]=g.useState(!1),[_,h]=g.useState(null),[b,j]=g.useState(0);g.useEffect(()=>{chrome.runtime.sendMessage({type:"GET_STATUS"},t=>{t&&(u(t.isActive),j(t.translationCount||0))})},[]);const N=t=>{l("mode",t),c({type:"MODE_CHANGED",mode:t})},m=(t,v)=>{l("sourceLanguage",t),l("targetLanguage",v),c({type:"LANGUAGE_CHANGED",source:t,target:v})},C=()=>{const t=!i;u(t),c({type:"TOGGLE_SUBTITLES",enabled:t})},S=()=>{chrome.runtime.openOptionsPage()};return n?e.jsx("div",{className:s.loading,children:"Loading..."}):e.jsxs("div",{className:s.popup,children:[e.jsxs("div",{className:s.header,children:[e.jsx("img",{src:"/icons/icon48.png",alt:"Logo",className:s.logo}),e.jsx("h1",{className:s.title,children:chrome.i18n.getMessage("popupTitle")||"Video Translator"})]}),e.jsxs("div",{className:s.section,children:[e.jsx("label",{className:s.label,children:chrome.i18n.getMessage("mode")||"Mode"}),e.jsx(f,{currentMode:a.mode,onChange:N})]}),e.jsx("div",{className:s.section,children:e.jsxs("div",{className:s.languagePair,children:[e.jsxs("div",{className:s.langCol,children:[e.jsx("label",{className:s.label,children:chrome.i18n.getMessage("from")||"From"}),e.jsx(p,{value:a.sourceLanguage,onChange:t=>m(t,a.targetLanguage),placeholder:"Auto-detect"})]}),e.jsx("div",{className:s.arrow,children:"‚Üí"}),e.jsxs("div",{className:s.langCol,children:[e.jsx("label",{className:s.label,children:chrome.i18n.getMessage("to")||"To"}),e.jsx(p,{value:a.targetLanguage,onChange:t=>m(a.sourceLanguage,t)})]})]})}),e.jsx("div",{className:s.section,children:e.jsxs("div",{className:s.statusRow,children:[e.jsx(V,{isActive:i}),e.jsxs("span",{className:s.count,children:[chrome.i18n.getMessage("translations")||"Translations",": ",b]})]})}),e.jsxs("button",{className:`${s.toggleButton} ${i?s.active:""}`,onClick:C,children:[i?"‚èπÔ∏è":"‚ñ∂Ô∏è"," ",i?"Active":"Inactive"]}),e.jsxs("div",{className:s.quickSettings,children:[e.jsx(x,{label:chrome.i18n.getMessage("subtitles")||"Subtitles",checked:a.displaySettings.enabled,onChange:t=>l("displaySettings",{...a.displaySettings,enabled:t})}),e.jsx(x,{label:chrome.i18n.getMessage("audioCapture")||"Audio Capture",checked:a.audioCapture!=="disabled",onChange:t=>l("audioCapture",t?"direct":"disabled")})]}),_&&e.jsx(q,{type:"error",message:_,onClose:()=>h(null),onRetry:()=>{c({type:"RETRY_TRANSLATION"}),h(null)}}),e.jsxs("div",{className:s.footer,children:[e.jsxs("button",{className:s.settingsButton,onClick:S,children:["‚öôÔ∏è ",chrome.i18n.getMessage("settings")||"Settings"]}),e.jsx("span",{className:s.shortcut,children:"Ctrl+S"})]})]})};M.createRoot(document.getElementById("root")).render(e.jsx(B.StrictMode,{children:e.jsx(ge,{})}));
